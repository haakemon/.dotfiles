[init]
  defaultBranch = main
[core]
  fscache = true
  preloadindex = true
  whitespace = fix,-indent-with-non-tab,trailing-space,cr-at-eol
  editor = code --wait
  autocrlf = false
  eol = lf
[push]
  default = upstream
[fetch]
  prune = true
[pull]
  ff = only

# Merge and diff
[merge]
  # tool = vscode
  tool = smerge
[diff]
  # tool = vscode
  tool = smerge
  compactionHeuristic = true
[diff "sopsdiffer"]
  textconv = "sops decrypt"
[mergetool]
  keepBackup = false
[mergetool "smerge"]
  cmd = smerge mergetool \"$BASE\" \"$LOCAL\" \"$REMOTE\" -o \"$MERGED\"
  trustExitCode = true
  keepBackup = false
[mergetool "vscode"]
  cmd = code -n --wait $MERGED
  trustExitCode = true
  keepBackup = false
[difftool "smerge"]
  cmd = smerge \"$BASE\" \"$LOCAL\" \"$REMOTE\"
[difftool "vscode"]
  prompt = false
  cmd = code -n --wait --diff $LOCAL $REMOTE
[advice]
  pushNonFastForward = false
  # statusHints = false
  # commitBeforeMerge = false
  # resolveConflict = false
  # implicitIdentity = false
  # detachedHead = false
